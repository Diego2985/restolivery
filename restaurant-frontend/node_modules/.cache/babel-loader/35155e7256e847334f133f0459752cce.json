{"ast":null,"code":"var _jsxFileName = \"F:\\\\Proyectos web\\\\restolivery-app\\\\restaurant-frontend\\\\src\\\\components\\\\Menu.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // Fetch products from API\n  useEffect(() => {\n    fetch(\"/api/products\").then(res => res.json()).then(setProducts).catch(() => setProducts([]));\n  }, []);\n  const addToCart = product => {\n    setCart([...cart, product]);\n  };\n  const removeFromCart = idx => {\n    setCart(cart.filter((_, i) => i !== idx));\n  };\n  const total = cart.reduce((sum, item) => sum + item.price, 0);\n  const handleCheckout = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/checkout\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          items: cart\n        })\n      });\n      const data = await res.json();\n      if (data.url) {\n        window.location.href = data.url; // Redirect to Stripe\n      }\n    } catch (err) {\n      alert(\"Error en el pago\");\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontFamily: \"sans-serif\",\n      padding: \"2rem\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Restolivery\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Men\\xFA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: products.map(item => {\n        var _item$price;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            marginBottom: \"1rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [item.name, \" - $\", (_item$price = item.price) === null || _item$price === void 0 ? void 0 : _item$price.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              marginLeft: \"1rem\"\n            },\n            onClick: () => addToCart(item),\n            children: \"Agregar al carrito\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Carrito\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"El carrito est\\xE1 vac\\xEDo.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: cart.map((item, idx) => {\n        var _item$price2;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [item.name, \" - $\", (_item$price2 = item.price) === null || _item$price2 === void 0 ? void 0 : _item$price2.toFixed(2), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              marginLeft: \"1rem\"\n            },\n            onClick: () => removeFromCart(idx),\n            children: \"Quitar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Total: $\", total.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: cart.length === 0 || loading,\n      style: {\n        padding: \"0.5rem 1rem\",\n        background: \"#28a745\",\n        color: \"#fff\",\n        border: \"none\",\n        borderRadius: \"4px\",\n        cursor: cart.length === 0 ? \"not-allowed\" : \"pointer\"\n      },\n      onClick: handleCheckout,\n      children: loading ? \"Procesando...\" : \"Pagar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"8Yky4gX+UOxi+7AnhZLtiwAAyno=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","App","_s","products","setProducts","cart","setCart","loading","setLoading","fetch","then","res","json","catch","addToCart","product","removeFromCart","idx","filter","_","i","total","reduce","sum","item","price","handleCheckout","method","headers","body","JSON","stringify","items","data","url","window","location","href","err","alert","style","fontFamily","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","map","_item$price","marginBottom","name","toFixed","marginLeft","onClick","id","length","_item$price2","disabled","background","color","border","borderRadius","cursor","_c","$RefreshReg$"],"sources":["F:/Proyectos web/restolivery-app/restaurant-frontend/src/components/Menu.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nfunction App() {\r\n  const [products, setProducts] = useState([]);\r\n  const [cart, setCart] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Fetch products from API\r\n  useEffect(() => {\r\n    fetch(\"/api/products\")\r\n      .then((res) => res.json())\r\n      .then(setProducts)\r\n      .catch(() => setProducts([]));\r\n  }, []);\r\n\r\n  const addToCart = (product) => {\r\n    setCart([...cart, product]);\r\n  };\r\n\r\n  const removeFromCart = (idx) => {\r\n    setCart(cart.filter((_, i) => i !== idx));\r\n  };\r\n\r\n  const total = cart.reduce((sum, item) => sum + item.price, 0);\r\n\r\n  const handleCheckout = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(\"/api/checkout\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ items: cart }),\r\n      });\r\n      const data = await res.json();\r\n      if (data.url) {\r\n        window.location.href = data.url; // Redirect to Stripe\r\n      }\r\n    } catch (err) {\r\n      alert(\"Error en el pago\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div style={{ fontFamily: \"sans-serif\", padding: \"2rem\" }}>\r\n      <h1>Restolivery</h1>\r\n      <h2>Menú</h2>\r\n      <ul>\r\n        {products.map((item) => (\r\n          <li key={item.id} style={{ marginBottom: \"1rem\" }}>\r\n            <span>\r\n              {item.name} - ${item.price?.toFixed(2)}\r\n            </span>\r\n            <button\r\n              style={{ marginLeft: \"1rem\" }}\r\n              onClick={() => addToCart(item)}\r\n            >\r\n              Agregar al carrito\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      <h2>Carrito</h2>\r\n      {cart.length === 0 ? (\r\n        <p>El carrito está vacío.</p>\r\n      ) : (\r\n        <ul>\r\n          {cart.map((item, idx) => (\r\n            <li key={idx}>\r\n              {item.name} - ${item.price?.toFixed(2)}\r\n              <button\r\n                style={{ marginLeft: \"1rem\" }}\r\n                onClick={() => removeFromCart(idx)}\r\n              >\r\n                Quitar\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n      <h3>Total: ${total.toFixed(2)}</h3>\r\n      <button\r\n        disabled={cart.length === 0 || loading}\r\n        style={{\r\n          padding: \"0.5rem 1rem\",\r\n          background: \"#28a745\",\r\n          color: \"#fff\",\r\n          border: \"none\",\r\n          borderRadius: \"4px\",\r\n          cursor: cart.length === 0 ? \"not-allowed\" : \"pointer\",\r\n        }}\r\n        onClick={handleCheckout}\r\n      >\r\n        {loading ? \"Procesando...\" : \"Pagar\"}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}